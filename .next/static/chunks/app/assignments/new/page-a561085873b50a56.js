(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[544],{7995:function(e,t,r){Promise.resolve().then(r.bind(r,6912))},7648:function(e,t,r){"use strict";r.d(t,{default:function(){return a.a}});var s=r(2972),a=r.n(s)},6912:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return o}});var s=r(7437),a=r(2265),n=r(5526),i=r(9376),l=r(7648);function o(){let[e,t]=(0,a.useState)(""),[r,o]=(0,a.useState)(""),[d,c]=(0,a.useState)(""),[u,m]=(0,a.useState)("assignment"),[g,p]=(0,a.useState)("medium"),[x,h]=(0,a.useState)(!1),[f,b]=(0,a.useState)(""),y=(0,i.useRouter)(),j=async t=>{if(t.preventDefault(),h(!0),b(""),!d){b("Please select a due date"),h(!1);return}try{let{data:{user:t}}=await n.O.auth.getUser();if(!t){y.push("/auth/login");return}let s={user_id:t.id,title:e.trim(),description:r.trim()||null,due_date:new Date(d).toISOString(),type:u,priority:g,status:"pending"},{data:a,error:i}=await n.O.from("assignments").insert([s]).select().single();i?b(i.message):y.push("/assignments/".concat(a.id))}catch(e){b("An unexpected error occurred")}finally{h(!1)}};return(0,s.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("div",{className:"flex items-center space-x-4 mb-4",children:(0,s.jsx)(l.default,{href:"/assignments",className:"text-gray-600 hover:text-gray-900",children:"← Back to Assignments"})}),(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Create New Assignment"}),(0,s.jsx)("p",{className:"text-gray-600 mt-2",children:"Add a new assignment, test, or project to track"})]}),(0,s.jsxs)("form",{onSubmit:j,className:"space-y-6",children:[f&&(0,s.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:f}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-2",children:"Title *"}),(0,s.jsx)("input",{type:"text",id:"title",required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Enter assignment title...",value:e,onChange:e=>t(e.target.value)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),(0,s.jsx)("textarea",{id:"description",rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Enter assignment description or requirements...",value:r,onChange:e=>o(e.target.value)})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"dueDate",className:"block text-sm font-medium text-gray-700 mb-2",children:"Due Date *"}),(0,s.jsx)("input",{type:"datetime-local",id:"dueDate",required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",value:d,onChange:e=>c(e.target.value)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"type",className:"block text-sm font-medium text-gray-700 mb-2",children:"Type"}),(0,s.jsxs)("select",{id:"type",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",value:u,onChange:e=>m(e.target.value),children:[(0,s.jsx)("option",{value:"assignment",children:"Assignment"}),(0,s.jsx)("option",{value:"test",children:"Test"}),(0,s.jsx)("option",{value:"project",children:"Project"})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"priority",className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority"}),(0,s.jsxs)("select",{id:"priority",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",value:g,onChange:e=>p(e.target.value),children:[(0,s.jsx)("option",{value:"low",children:"Low"}),(0,s.jsx)("option",{value:"medium",children:"Medium"}),(0,s.jsx)("option",{value:"high",children:"High"})]})]}),(0,s.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,s.jsx)(l.default,{href:"/assignments",className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,s.jsx)("button",{type:"submit",disabled:x,className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors disabled:opacity-50",children:x?"Creating...":"Create Assignment"})]})]})]})}},5526:function(e,t,r){"use strict";r.d(t,{O:function(){return l}});var s=r(3887),a=r(257);let n="https://yicmvsmebwfbvxudyfbg.supabase.co",i=a.env.SUPABASE_SERVICE_ROLE_KEY,l=(0,s.eI)(n,"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlpY212c21lYndmYnZ4dWR5ZmJnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg4NTIwMzEsImV4cCI6MjA3NDQyODAzMX0.UAt3E9XBgtM4b2ysEEqTLWRAm3E-g6NsQuKri86o4gk",{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"pkce"}});i&&(0,s.eI)(n,i,{auth:{autoRefreshToken:!1,persistSession:!1}})}},function(e){e.O(0,[357,972,971,117,744],function(){return e(e.s=7995)}),_N_E=e.O()}]);