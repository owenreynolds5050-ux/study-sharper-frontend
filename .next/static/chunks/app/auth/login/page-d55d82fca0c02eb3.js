(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[716],{1503:function(e,s,t){Promise.resolve().then(t.bind(t,1202))},7648:function(e,s,t){"use strict";t.d(s,{default:function(){return o.a}});var r=t(2972),o=t.n(r)},1202:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return l}});var r=t(7437),o=t(2265),a=t(5526),n=t(9376),i=t(7648);function l(){let[e,s]=(0,o.useState)(""),[t,l]=(0,o.useState)(""),[d,u]=(0,o.useState)(!1),[c,m]=(0,o.useState)(""),[p,h]=(0,o.useState)(""),f=(0,n.useRouter)(),g=e=>!!["testuser123@outlook.com","testuser456@outlook.com","testuser789@outlook.com","user@localhost"].includes(e.toLowerCase())||/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),x=async s=>{if(s.preventDefault(),u(!0),m(""),h(""),!g(e)){m("Please enter a valid email address"),u(!1);return}try{if(["testuser123@outlook.com","testuser456@outlook.com","testuser789@outlook.com","user@localhost"].includes(e.toLowerCase())){console.log("Test email detected, using bypass authentication..."),u(!0);let s={id:"test-user-"+Date.now(),email:e,user_metadata:{first_name:"Test",last_name:"User"}};localStorage.setItem("testUser",JSON.stringify(s)),localStorage.setItem("testMode","true"),h("Test login successful! Redirecting to dashboard..."),setTimeout(()=>{f.push("/dashboard")},1e3);return}let{error:s}=await a.O.auth.signInWithPassword({email:e,password:t});s?(console.error("Login error:",s),["testuser123@outlook.com","testuser456@outlook.com","testuser789@outlook.com","user@localhost"].includes(e.toLowerCase())&&s.message.includes("Email not confirmed")?m("Test account needs confirmation. For testing purposes, try signing up again - it should auto-confirm this time."):s.message.includes("Invalid login credentials")?m('Invalid email or password. For testing, make sure to use the "Load Test Data" button first.'):s.message.includes("Email not confirmed")?m("Please confirm your email address first. Check your inbox for a confirmation link."):m(s.message)):(h("Login successful! Redirecting to dashboard..."),setTimeout(()=>{f.push("/dashboard")},1e3))}catch(e){m("An unexpected error occurred")}finally{u(!1)}};return(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sign in to Study Sharper"}),(0,r.jsxs)("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Or"," ",(0,r.jsx)(i.default,{href:"/auth/signup",className:"font-medium text-primary-600 hover:text-primary-500",children:"create a new account"})]})]}),(0,r.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-blue-900",children:"Test Mode"}),(0,r.jsx)("p",{className:"text-sm text-blue-700",children:"Click below to auto-fill test credentials for immediate testing"})]}),(0,r.jsx)("button",{type:"button",onClick:()=>{s("testuser123@outlook.com"),l("Test123!"),m(""),h('Test credentials loaded! Click "Sign in" to continue.')},className:"bg-blue-600 text-white px-4 py-2 rounded text-sm hover:bg-blue-700 transition-colors",children:"Load Test Data"})]})}),(0,r.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:x,children:[c&&(0,r.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:c}),p&&(0,r.jsx)("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded",children:p}),(0,r.jsxs)("div",{className:"rounded-md shadow-sm -space-y-px",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"email",className:"sr-only",children:"Email address"}),(0,r.jsx)("input",{id:"email",name:"email",type:"email",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm",placeholder:"Email address",value:e,onChange:e=>s(e.target.value)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"password",className:"sr-only",children:"Password"}),(0,r.jsx)("input",{id:"password",name:"password",type:"password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm",placeholder:"Password",value:t,onChange:e=>l(e.target.value)})]})]}),(0,r.jsx)("div",{children:(0,r.jsx)("button",{type:"submit",disabled:d,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50",children:d?"Signing in...":"Sign in"})})]})]})})}},5526:function(e,s,t){"use strict";t.d(s,{O:function(){return i}});var r=t(3887),o=t(257);let a="https://yicmvsmebwfbvxudyfbg.supabase.co",n=o.env.SUPABASE_SERVICE_ROLE_KEY,i=(0,r.eI)(a,"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlpY212c21lYndmYnZ4dWR5ZmJnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg4NTIwMzEsImV4cCI6MjA3NDQyODAzMX0.UAt3E9XBgtM4b2ysEEqTLWRAm3E-g6NsQuKri86o4gk",{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"pkce"}});n&&(0,r.eI)(a,n,{auth:{autoRefreshToken:!1,persistSession:!1}})}},function(e){e.O(0,[357,972,971,117,744],function(){return e(e.s=1503)}),_N_E=e.O()}]);